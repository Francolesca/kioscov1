@{
    ViewData["Title"] = "Home Page";
}

<div class="container mt-4">
    <h2 class="mb-4">Bienvenido, @User.Identity.Name</h2>

    <div class="row mb-3">
        <div class="col-md-4">
            <div class="card text-bg-success mb-3">
                <div class="card-body">
                    <h5 class="card-title">Ventas Hoy</h5>
                    <p class="card-text fs-4" id="ventasHoy">nada</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-bg-info mb-3">
                <div class="card-body">
                    <h5 class="card-title">Turno Actual</h5>
                    <p class="card-text">Caja abierta por: <strong>Juan</strong><br />Monto inicial: $1,000</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-bg-warning mb-3">
                <div class="card-body">
                    <h5 class="card-title">Productos</h5>
                    <p class="card-text" id="productosTotal">0</p>
                </div>
            </div>
        </div>
    </div>

    <h4>Accesos rápidos</h4>
    <div class="d-flex gap-2 mb-4">
        <a class="btn btn-outline-primary" asp-controller="Ventas1" asp-action="Create">➕ Nueva Venta</a>
        <a class="btn btn-outline-success" asp-controller="Productos" asp-action="Create">📦 Nuevo Producto</a>
        <a class="btn btn-outline-secondary" asp-controller="Productos" asp-action="Importar">⬆️ Importar Excel</a>
    </div>
</div> 
@section Scripts{
    <script>
        $(document).ready(function(){
            $.ajax({
                url: '/Home/ObtenerDatos',
                method: 'GET',
                success: function(data){
                    document.getElementById('ventasHoy').textContent = '$' + data.totalVentas;
                    document.getElementById('productosTotal').textContent = 'Total: ' + data.totalProductos;
                }
            })
        })
    </script>
}